var Color=function(t){"use strict";const e=[[.4124564,.3575761,.1804375],[.2126729,.7151522,.072175],[.0193339,.119192,.9503041]],a=[[3.2404542,-1.5371385,-.4985314],[-.969266,1.8760108,.041556],[.0556434,-.2040259,1.0572252]],r=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],s=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],n=[[1.0478112,.0228866,-.050127],[.0295424,.9904844,-.0170491],[-.0092345,.0150436,.7521316]],i=[[.9555766,-.0230393,.0631636],[-.0282895,1.0099416,.0210077],[.0122982,-.020483,1.3299098]],h=[.96422,1,.82521],l=[.95047,1,1.08883],o=[0,255],u=[0,359],c=[0,1],f=[-127,127],g=[0,260],y=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/,b=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/,p=/\(\s*([0-9a-z.%+-]+)\s*,\s*([0-9a-z.%+-]+)\s*,\s*([0-9a-z.%+-]+)\s*(?:,\s*([0-9a-z.%+-]+)\s*)?\)$/,d=/\(\s*([0-9a-z.%+-]+)\s+([0-9a-z.%+-]+)\s+([0-9a-z.%+-]+)\s*(?:\s+\/\s+([0-9a-z.%+-]+)\s*)?\)$/;function M(t,e){if(t&&Array.isArray(t)&&t.length)return e&&Array.isArray(e)&&t.length===e.length?t.map((t,a,r)=>r.reduce((t,r,s)=>t+r*e[a][s],0)):t}function m(t,e){return null==(e=+e)||Number.isNaN(e)?NaN:Array.isArray(t)?e<t[0]?t[0]:e>t[1]?t[1]:e:e}function C(...t){return t.every(t=>t||!t&&0==t)}function w(t,e){return(+t%+e+ +e)%+e}function $(t,e=12){return+(+(t*10**e).toFixed(0)*10**-e).toFixed(e<0?0:e)}function P(t,e=12){return null==t||Array.isArray(t)?NaN:(t=t.toString(),t=/%$/.test(t)?+t.slice(0,-1)/100:+t,void 0!==e&&(t=$(t,e)),t)}function v(t){return C(t)?m(c,P(t,4)):1}function A(t){return m(f,$(t,3))}function z(t){return m(g,$(t,3))}function x(t){if("number"==typeof t)return $(w(t,360),3);if("string"!=typeof t)return NaN;const e=(t=t.trim().toLowerCase()).match(/^([+\-0-9e.]+)(turn|g?rad|deg)?$/);if(!e)return NaN;switch(e[2]=e[2]||"deg",e[2]){case"turn":e[1]*=360;break;case"rad":e[1]*=180/Math.PI;break;case"grad":e[1]*=.9;break;case"deg":break;default:return NaN}return $(w(e[1],360),3)}function L(t){return"number"==typeof t?m(c,$(t,5)):"string"==typeof t&&/%$/.test(t)?m(c,P(t,7)):NaN}function k(t){return"number"==typeof t?m(o,$(t,0)):"string"!=typeof t?NaN:m(o,/%$/.test(t)?$(function(t,e){return Array.isArray(t)?t[0]+ +e*(t[1]-t[0]):NaN}(o,P(t)),0):$(t,0))}function D(t,e){return t.every((t,a)=>e[a]===t)}function R(t,e){return(t.exec(e.toLowerCase())||[]).filter((t,e)=>e&&!!t)}function X(t,e){return R(new RegExp(`^${"rgb"===t||"hsl"===t?t+"a?":t}${p.source}`),e)}function G(t,e){return R(new RegExp(`^${"rgb"===t||"hsl"===t?t+"a?":t}${d.source}`),e)}function B(t,e){return Array.isArray(t)?(+e-t[0])/(t[1]-t[0]):NaN}function Y(t,e){let a;return a=e>0&&e<=.5?t/(2*e):t/(2-2*e||e),L(a)}function Z(t){return parseInt(1===t.length?t.repeat(2):t.substring(0,2),16)}function N(t){return(t=m(o,t)).toString(16).padStart(2,"0")}function S(t,e,a=0){return+Math.abs(t-e).toFixed(12)<=a}function W(t,e,a){const r=-(w(t-e,360)||360),s=w(e-t,360)||360;switch(a){case-1:return r;case 1:return s;case 0:default:return s%360<=180?s:r}}function q(t=[0,1],e=12){const[a,r]=t;return $(a+Math.random()*(r-a),e)}class LabColor{constructor({lightness:t,a:e,b:a,chroma:r,hue:s,alpha:n}){Object.defineProperties(this,{lightness:{value:t},a:{value:e},b:{value:a},chroma:{value:r},hue:{value:s},alpha:{value:n},whitePoint:{value:h},profile:{value:"cie-lab"}})}static lab({lightness:t,a:e,b:a,alpha:r}){const s=L(t),n=A(e),i=A(a);if(C(s,n,i))return new LabColor({lightness:s,a:n,b:i,chroma:z(Math.sqrt(n**2+i**2)),hue:x(180*Math.atan2($(i,3),$(n,3))/Math.PI),alpha:v(r)})}static labArray([t,e,a,r]){return LabColor.lab({lightness:t,a:e,b:a,alpha:r})}static lch({lightness:t,chroma:e,hue:a,alpha:r}){const s=L(t),n=z(e),i=x(a);if(C(s,n,i))return new LabColor({lightness:s,a:A(n*Math.cos(i*Math.PI/180)),b:A(n*Math.sin(i*Math.PI/180)),chroma:n,hue:i,alpha:v(r)})}static lchArray([t,e,a,r]){return LabColor.lch({lightness:t,chroma:e,hue:a,alpha:r})}get hrad(){return $(this.hue*(Math.PI/180),7)}get hgrad(){return $(this.hue/.9,7)}get hturn(){return $(this.hue/360,7)}get luminance(){return this.toXyz().y}get mode(){return+(this.luminance<.18)}toXyz(t=this.whitePoint){const e=.008856,a=903.3,r=100*this.lightness,s=(r+16)/116,n=this.a/500+s,i=s-this.b/200,[h,l,o]=[n**3>e?n**3:(116*n-16)/a,r>a*e?((r+16)/116)**3:r/a,i**3>e?i**3:(116*i-16)/a].map((t,e)=>$(t*this.whitePoint[e],7));return new XYZColor({x:h,y:l,z:o,alpha:this.alpha,whitePoint:this.whitePoint}).adapt(t)}toRgb(){return this.toXyz(l).toRgb()}toP3(){return this.toXyz(l).toP3()}toLab(){return this}toGrayscale(){return this.copyWith({a:0,b:0})}toLchString(t=3){return this.alpha<1?`lch(${$(100*this.lightness,t)}% ${$(this.chroma,t)} ${$(this.hue,t)}deg / ${this.alpha})`:`lch(${$(100*this.lightness,t)}% ${$(this.chroma,t)} ${$(this.hue,t)}deg)`}toLabString(t=3){return this.alpha<1?`lab(${$(100*this.lightness,t)}% ${$(this.a,t)} ${$(this.b,t)} / ${this.alpha})`:`lab(${$(100*this.lightness,t)}% ${$(this.a,t)} ${$(this.b,t)})`}withAlpha(t=1){return this.alpha===t?this:new LabColor({lightness:this.lightness,a:this.a,b:this.b,chroma:this.chroma,hue:this.hue,alpha:v(t)})}copyWith(t){return"a"in t||"b"in t?LabColor.lab({lightness:this.lightness,a:this.b,b:this.b,alpha:this.alpha,...t}):"hue"in t||"chroma"in t?LabColor.lch({lightness:this.lightness,chroma:this.chroma,hue:this.hue,alpha:this.alpha,...t}):"lightness"in t?LabColor.lab({lightness:this.lightness,a:this.a,b:this.b,alpha:this.alpha,...t}):"alpha"in t?this.withAlpha(t.alpha):this}invert(){return LabColor.lab({lightness:this.lightness,a:-this.a,b:-this.b,alpha:this.alpha})}}class XYZColor{constructor({x:t,y:e,z:a,alpha:r=1,whitePoint:s=XYZColor.D50}){Object.defineProperties(this,{x:{value:$(t,6)},y:{value:$(e,6)},z:{value:$(a,6)},alpha:{value:v(r)},whitePoint:{value:s},profile:{value:"cie-xyz"}})}static get D50(){return h}static get D65(){return l}static xyz({x:t,y:e,z:a,alpha:r,whitePoint:s}){return new XYZColor({x:t,y:e,z:a,alpha:r,whitePoint:s})}static xyzArray([t,e,a,r]){return XYZColor.xyz({x:t,y:e,z:a,alpha:r})}get luminance(){return this.y}get mode(){return+(this.luminance<.18)}adapt(t){if(D(t,this.whitePoint))return this;const[e,a,r]=M(this.toXyzArray(),D(t,XYZColor.D50)?n:i);return new XYZColor({x:e,y:a,z:r,alpha:this.alpha,whitePoint:t})}toXyzArray(){return[this.x,this.y,this.z]}toLab(){const t=(D(this.whitePoint,XYZColor.D65)?this.adapt(XYZColor.D50):this).toXyzArray(),[e,a,r]=t.map((t,e)=>t/h[e]).map(t=>t>.008856?Math.cbrt(t):(903.3*t+16)/116);return LabColor.lab({lightness:(116*a-16)/100,a:500*(e-a),b:200*(a-r),alpha:this.alpha})}toRgb(){const t=(D(this.whitePoint,XYZColor.D65)?this:this.adapt(XYZColor.D65)).toXyzArray();return sRGBColor.linArray(M(t,a).concat(this.alpha))}toP3(){const t=(D(this.whitePoint,XYZColor.D65)?this:this.adapt(XYZColor.D65)).toXyzArray();return DisplayP3Color.linArray(M(t,s).concat(this.alpha))}toXyz(){return this}}class ColorMap extends Map{setMany(t,e,...a){return this.set(t,e),this.set(e,t),a.forEach(t=>{this.set(t,e)}),this}getPrimaryKey(t){return this.get(this.get(t))}}const H=new ColorMap;function E(t){if("string"==typeof t)return H.getPrimaryKey(t.toLowerCase())}H.setMany("aliceblue",[240,248,255,208,1,.97,1],"#f0f8ff"),H.setMany("antiquewhite",[250,235,215,34,.78,.91,1],"#faebd7"),H.setMany("cyan",[0,255,255,180,1,.5,1],"#00ffff","aqua","#0ff"),H.setMany("aquamarine",[127,255,212,160,1,.75,1],"#7fffd4"),H.setMany("azure",[240,255,255,180,1,.97,1],"#f0ffff"),H.setMany("beige",[245,245,220,60,.56,.91,1],"#f5f5dc"),H.setMany("bisque",[255,228,196,33,1,.88,1],"#ffe4c4"),H.setMany("black",[0,0,0,0,0,0,1],"#000000","#000"),H.setMany("blanchedalmond",[255,235,205,36,1,.9,1],"#ffebcd"),H.setMany("blue",[0,0,255,240,1,.5,1],"#0000ff","#00f"),H.setMany("blueviolet",[138,43,226,271,.76,.53,1],"#8a2be2"),H.setMany("brown",[165,42,42,0,.59,.41,1],"#a52a2a"),H.setMany("burlywood",[222,184,135,34,.57,.7,1],"#deb887"),H.setMany("cadetblue",[95,158,160,182,.25,.5,1],"#5f9ea0"),H.setMany("chartreuse",[127,255,0,90,1,.5,1],"#7fff00"),H.setMany("chocolate",[210,105,30,25,.75,.47,1],"#d2691e"),H.setMany("coral",[255,127,80,16,1,.66,1],"#ff7f50"),H.setMany("cornflowerblue",[100,149,237,219,.79,.66,1],"#6495ed"),H.setMany("cornsilk",[255,248,220,48,1,.93,1],"#fff8dc"),H.setMany("crimson",[220,20,60,348,.83,.47,1],"#dc143c"),H.setMany("darkblue",[0,0,139,240,1,.27,1],"#00008b"),H.setMany("darkcyan",[0,139,139,180,1,.27,1],"#008b8b"),H.setMany("darkgoldenrod",[184,134,11,43,.89,.38,1],"#b8860b"),H.setMany("darkgray",[169,169,169,0,0,.66,1],"#a9a9a9","darkgrey"),H.setMany("darkgreen",[0,100,0,120,1,.2,1],"#006400"),H.setMany("darkkhaki",[189,183,107,56,.38,.58,1],"#bdb76b"),H.setMany("darkmagenta",[139,0,139,300,1,.27,1],"#8b008b"),H.setMany("darkolivegreen",[85,107,47,82,.39,.3,1],"#556b2f"),H.setMany("darkorange",[255,140,0,33,1,.5,1],"#ff8c00"),H.setMany("darkorchid",[153,50,204,280,.61,.5,1],"#9932cc"),H.setMany("darkred",[139,0,0,0,1,.27,1],"#8b0000"),H.setMany("darksalmon",[233,150,122,15,.72,.7,1],"#e9967a"),H.setMany("darkseagreen",[143,188,143,120,.25,.65,1],"#8fbc8f"),H.setMany("darkslateblue",[72,61,139,248,.39,.39,1],"#483d8b"),H.setMany("darkslategray",[47,79,79,180,.25,.25,1],"#2f4f4f","darkslategrey"),H.setMany("darkturquoise",[0,206,209,181,1,.41,1],"#00ced1"),H.setMany("darkviolet",[148,0,211,282,1,.41,1],"#9400d3"),H.setMany("deeppink",[255,20,147,328,1,.54,1],"#ff1493"),H.setMany("deepskyblue",[0,191,255,195,1,.5,1],"#00bfff"),H.setMany("dimgray",[105,105,105,0,0,.41,1],"#696969","dimgrey"),H.setMany("dodgerblue",[30,144,255,210,1,.56,1],"#1e90ff"),H.setMany("firebrick",[178,34,34,0,.68,.42,1],"#b22222"),H.setMany("floralwhite",[255,250,240,40,1,.97,1],"#fffaf0"),H.setMany("forestgreen",[34,139,34,120,.61,.34,1],"#228b22"),H.setMany("gainsboro",[220,220,220,0,0,.86,1],"#dcdcdc"),H.setMany("ghostwhite",[248,248,255,240,1,.99,1],"#f8f8ff"),H.setMany("gold",[255,215,0,51,1,.5,1],"#ffd700"),H.setMany("goldenrod",[218,165,32,43,.74,.49,1],"#daa520"),H.setMany("gray",[128,128,128,0,0,.5,1],"#808080","grey"),H.setMany("green",[0,128,0,120,1,.25,1],"#008000"),H.setMany("greenyellow",[173,255,47,84,1,.59,1],"#adff2f"),H.setMany("honeydew",[240,255,240,120,1,.97,1],"#f0fff0"),H.setMany("hotpink",[255,105,180,330,1,.71,1],"#ff69b4"),H.setMany("indianred",[205,92,92,0,.53,.58,1],"#cd5c5c"),H.setMany("indigo",[75,0,130,275,1,.25,1],"#4b0082"),H.setMany("ivory",[255,255,240,60,1,.97,1],"#fffff0"),H.setMany("khaki",[240,230,140,54,.77,.75,1],"#f0e68c"),H.setMany("lavender",[230,230,250,240,.67,.94,1],"#e6e6fa"),H.setMany("lavenderblush",[255,240,245,340,1,.97,1],"#fff0f5"),H.setMany("lawngreen",[124,252,0,90,1,.49,1],"#7cfc00"),H.setMany("lemonchiffon",[255,250,205,54,1,.9,1],"#fffacd"),H.setMany("lightblue",[173,216,230,195,.53,.79,1],"#add8e6"),H.setMany("lightcoral",[240,128,128,0,.79,.72,1],"#f08080"),H.setMany("lightcyan",[224,255,255,180,1,.94,1],"#e0ffff"),H.setMany("lightgoldenrodyellow",[250,250,210,60,.8,.9,1],"#fafad2"),H.setMany("lightgray",[211,211,211,0,0,.83,1],"#d3d3d3","lightgrey"),H.setMany("lightgreen",[144,238,144,120,.73,.75,1],"#90ee90"),H.setMany("lightpink",[255,182,193,351,1,.86,1],"#ffb6c1"),H.setMany("lightsalmon",[255,160,122,17,1,.74,1],"#ffa07a"),H.setMany("lightseagreen",[32,178,170,177,.7,.41,1],"#20b2aa"),H.setMany("lightskyblue",[135,206,250,203,.92,.75,1],"#87cefa"),H.setMany("lightslategray",[119,136,153,210,.14,.53,1],"#778899","lightslategrey","#789"),H.setMany("lightsteelblue",[176,196,222,214,.41,.78,1],"#b0c4de"),H.setMany("lightyellow",[255,255,224,60,1,.94,1],"#ffffe0"),H.setMany("lime",[0,255,0,120,1,.5,1],"#00ff00","#0f0"),H.setMany("limegreen",[50,205,50,120,.61,.5,1],"#32cd32"),H.setMany("linen",[250,240,230,30,.67,.94,1],"#faf0e6"),H.setMany("magenta",[255,0,255,300,1,.5,1],"#ff00ff","fuchsia","#f0f"),H.setMany("maroon",[128,0,0,0,1,.25,1],"#800000"),H.setMany("mediumaquamarine",[102,205,170,160,.51,.6,1],"#66cdaa"),H.setMany("mediumblue",[0,0,205,240,1,.4,1],"#0000cd"),H.setMany("mediumorchid",[186,85,211,288,.59,.58,1],"#ba55d3"),H.setMany("mediumpurple",[147,112,219,260,.6,.65,1],"#9370db"),H.setMany("mediumseagreen",[60,179,113,147,.5,.47,1],"#3cb371"),H.setMany("mediumslateblue",[123,104,238,249,.8,.67,1],"#7b68ee"),H.setMany("mediumspringgreen",[0,250,154,157,1,.49,1],"#00fa9a"),H.setMany("mediumturquoise",[72,209,204,178,.6,.55,1],"#48d1cc"),H.setMany("mediumvioletred",[199,21,133,322,.81,.43,1],"#c71585"),H.setMany("midnightblue",[25,25,112,240,.64,.27,1],"#191970"),H.setMany("mintcream",[245,255,250,150,1,.98,1],"#f5fffa"),H.setMany("mistyrose",[255,228,225,6,1,.94,1],"#ffe4e1"),H.setMany("moccasin",[255,228,181,38,1,.85,1],"#ffe4b5"),H.setMany("navajowhite",[255,222,173,36,1,.84,1],"#ffdead"),H.setMany("navy",[0,0,128,240,1,.25,1],"#000080"),H.setMany("oldlace",[253,245,230,39,.85,.95,1],"#fdf5e6"),H.setMany("olive",[128,128,0,60,1,.25,1],"#808000"),H.setMany("olivedrab",[107,142,35,80,.6,.35,1],"#6b8e23"),H.setMany("orange",[255,165,0,39,1,.5,1],"#ffa500"),H.setMany("orangered",[255,69,0,16,1,.5,1],"#ff4500"),H.setMany("orchid",[218,112,214,302,.59,.65,1],"#da70d6"),H.setMany("palegoldenrod",[238,232,170,55,.67,.8,1],"#eee8aa"),H.setMany("palegreen",[152,251,152,120,.93,.79,1],"#98fb98"),H.setMany("paleturquoise",[175,238,238,180,.65,.81,1],"#afeeee"),H.setMany("palevioletred",[219,112,147,340,.6,.65,1],"#db7093"),H.setMany("papayawhip",[255,239,213,37,1,.92,1],"#ffefd5"),H.setMany("peachpuff",[255,218,185,28,1,.86,1],"#ffdab9"),H.setMany("peru",[205,133,63,30,.59,.53,1],"#cd853f"),H.setMany("pink",[255,192,203,350,1,.88,1],"#ffc0cb"),H.setMany("plum",[221,160,221,300,.47,.75,1],"#dda0dd"),H.setMany("powderblue",[176,224,230,187,.52,.8,1],"#b0e0e6"),H.setMany("purple",[128,0,128,300,1,.25,1],"#800080"),H.setMany("rebeccapurple",[102,51,153,270,.5,.4,1],"#663399","#639"),H.setMany("red",[255,0,0,0,1,.5,1],"#ff0000","#f00"),H.setMany("rosybrown",[188,143,143,0,.25,.65,1],"#bc8f8f"),H.setMany("royalblue",[65,105,225,225,.73,.57,1],"#4169e1"),H.setMany("saddlebrown",[139,69,19,25,.76,.31,1],"#8b4513"),H.setMany("salmon",[250,128,114,6,.93,.71,1],"#fa8072"),H.setMany("sandybrown",[244,164,96,28,.87,.67,1],"#f4a460"),H.setMany("seagreen",[46,139,87,146,.5,.36,1],"#2e8b57"),H.setMany("seashell",[255,245,238,25,1,.97,1],"#fff5ee"),H.setMany("sienna",[160,82,45,19,.56,.4,1],"#a0522d"),H.setMany("silver",[192,192,192,0,0,.75,1],"#c0c0c0"),H.setMany("skyblue",[135,206,235,197,.71,.73,1],"#87ceeb"),H.setMany("slateblue",[106,90,205,248,.53,.58,1],"#6a5acd"),H.setMany("slategray",[112,128,144,210,.13,.5,1],"#708090","slategrey"),H.setMany("snow",[255,250,250,0,1,.99,1],"#fffafa"),H.setMany("springgreen",[0,255,127,150,1,.5,1],"#00ff7f"),H.setMany("steelblue",[70,130,180,207,.44,.49,1],"#4682b4"),H.setMany("tan",[210,180,140,34,.44,.69,1],"#d2b48c"),H.setMany("teal",[0,128,128,180,1,.25,1],"#008080"),H.setMany("thistle",[216,191,216,300,.24,.8,1],"#d8bfd8"),H.setMany("tomato",[255,99,71,9,1,.64,1],"#ff6347"),H.setMany("turquoise",[64,224,208,174,.72,.56,1],"#40e0d0"),H.setMany("violet",[238,130,238,300,.76,.72,1],"#ee82ee"),H.setMany("wheat",[245,222,179,39,.77,.83,1],"#f5deb3"),H.setMany("white",[255,255,255,0,0,1,1],"#ffffff","#fff"),H.setMany("whitesmoke",[245,245,245,0,0,.96,1],"#f5f5f5"),H.setMany("yellow",[255,255,0,60,1,.5,1],"#ffff00","#ff0"),H.setMany("yellowgreen",[154,205,50,80,.61,.5,1],"#9acd32"),H.setMany("transparent",[0,0,0,0,0,0,0]);class DisplayP3Color{constructor({red:t,green:e,blue:a,hue:r,saturation:s,lightness:n,alpha:i}){Object.defineProperties(this,{red:{value:t},green:{value:e},blue:{value:a},hue:{value:r},saturation:{value:s},lightness:{value:n},alpha:{value:i},whitePoint:{value:l},profile:{value:"display-p3"}})}static rgb({red:t,green:e,blue:a,alpha:r}){const s=k(t),n=k(e),i=k(a);if(!C(s,n,i))return;const h=B(o,s),l=B(o,n),u=B(o,i),c=Math.min(h,l,u),f=Math.max(h,l,u),g=f-c;let y;y=0===g?0:f===h?(l-u)/g:f===l?(u-h)/g+2:(h-l)/g+4;const b=(f+c)/2,p=Y(g,b);return new DisplayP3Color({red:s,green:n,blue:i,hue:x(60*y),saturation:p,lightness:L(b),alpha:v(r)})}static rgbArray([t,e,a,r]){return DisplayP3Color.rgb({red:t,green:e,blue:a,alpha:r})}static lin({red:t,green:e,blue:a,alpha:r}){const s=[t,e,a].map(t=>t>.0031308?t**(1/2.4)*1.055-.055:12.92*t).map(t=>255*t).concat(r);return DisplayP3Color.rgbArray(s)}static linArray([t,e,a,r]){return DisplayP3Color.lin({red:t,green:e,blue:a,alpha:r})}static hsl({hue:t,saturation:e,lightness:a,alpha:r}){const s=x(t),n=L(e),i=L(a);if(!C(s,n,i))return;const h=(1-Math.abs(2*i-1))*n,l=h*(1-Math.abs(s/60%2-1)),o=i-h/2;let u=0,c=0,f=0;return s>=0&&s<60?(u=h,c=l,f=0):s>=60&&s<120?(u=l,c=h,f=0):s>=120&&s<180?(u=0,c=h,f=l):s>=180&&s<240?(u=0,c=l,f=h):s>=240&&s<300?(u=l,c=0,f=h):s>=300&&s<360&&(u=h,c=0,f=l),new DisplayP3Color({red:k(255*(u+o)),green:k(255*(c+o)),blue:k(255*(f+o)),hue:s,saturation:n,lightness:i,alpha:v(r)})}static hslArray([t,e,a,r]){return DisplayP3Color.hsl({hue:t,saturation:e,lightness:a,alpha:r})}static hwb({hue:t,whiteness:e,blackness:a,alpha:r}){const s=L(e),n=L(a),i=(1-s+n)/2,h=Y(1-s-n,i);return DisplayP3Color.hsl({hue:x(t),saturation:h,lightness:i,alpha:r})}static hwbArray([t,e,a,r]){return DisplayP3Color.hwb({hue:t,whiteness:e,blackness:a,alpha:r})}get luminance(){return this.toXyz().y}get mode(){return+(this.luminance<.18)}get hueGroup(){return w(Math.floor((this.hue+15)%360/30)+1,11)}get hueGroupOffset(){return w(this.hue%30+15,30)}get hrad(){return $(this.hue*(Math.PI/180),7)}get hgrad(){return $(this.hue/.9,7)}get hturn(){return $(this.hue/360,7)}get name(){const t=E(this.toHexString().substring(0,7));return 1!==this.alpha&&t?`p3:${t}*`:"p3:"+t}toLin(){return[this.red,this.green,this.blue].map(t=>{const e=t/255;return $(e<.04045?e/12.92:((e+.055)/1.055)**2.4,7)})}toHwb(){const t=[this.red,this.green,this.blue].map(t=>t/255);return[this.hue,$(1-Math.max(...t),7),$(Math.min(...t),7),this.alpha]}toXyz(t=this.whitePoint){const[e,a,s]=M(this.toLin(),r);return new XYZColor({x:e,y:a,z:s,alpha:this.alpha,whitePoint:this.whitePoint}).adapt(t)}toLab(){return this.toXyz(h).toLab()}toP3(){return this}toRgb(){return this.toXyz().toRgb()}toRgbEquiv(){return new sRGBColor(this)}toGrayscale(){if(0===this.saturation)return this;const t=this.luminance>.0393?255*(this.luminance**(1/2.4)*1.055-.055):3294.6*this.luminance;return DisplayP3Color.rgb({red:t,green:t,blue:t,alpha:this.alpha})}toRgbString(t="absolute"){const e="relative"===t?$(100*B(o,this.red),3)+"%":this.red,a="relative"===t?$(100*B(o,this.green),3)+"%":this.green,r="relative"===t?$(100*B(o,this.blue),3)+"%":this.blue,s="relative"===t?$(100*this.alpha,0)+"%":this.alpha;return this.alpha<1?`p3:rgb(${e} ${a} ${r} / ${s})`:`p3:rgb(${e} ${a} ${r})`}toColorString(){const t=$(B(o,this.red),5),e=$(B(o,this.green),5),a=$(B(o,this.blue),5);return this.alpha<1?`color(${this.profile} ${t} ${e} ${a} / ${this.alpha})`:`color(${this.profile} ${t} ${e} ${a})`}toHexString(){return`#${N(this.red)}${N(this.green)}${N(this.blue)}${this.alpha<1?N(Math.round(255*this.alpha)):""}`}toHslString(t=1){return this.alpha<1?`p3:hsl(${$(this.hue,t)}deg ${$(100*this.saturation,t)}% ${$(100*this.lightness,t)}% / ${this.alpha})`:`p3:hsl(${$(this.hue,t)}deg ${$(100*this.saturation,t)}% ${$(100*this.lightness,t)}%)`}toHwbString(t=1){const[e,a,r]=this.toHwb();return this.alpha<1?`p3:hwb(${$(e,t)}deg ${$(100*a,t)}% ${$(100*r,t)}% / ${this.alpha})`:`p3:hwb(${$(e,t)}deg ${$(100*a,t)}% ${$(100*r,t)}%)`}withAlpha(t=1){return this.alpha===t?this:new DisplayP3Color({red:this.red,green:this.green,blue:this.blue,hue:this.hue,saturation:this.saturation,lightness:this.lightness,alpha:v(t)})}invert(){return DisplayP3Color.rgb({red:255-this.red,green:255-this.green,blue:255-this.blue,alpha:this.alpha})}copyWith(t){return"red"in t||"blue"in t||"green"in t?DisplayP3Color.rgb({red:this.red,green:this.green,blue:this.blue,alpha:this.alpha,...t}):"hue"in t||"saturation"in t||"lightness"in t?DisplayP3Color.hsl({hue:this.hue,saturation:this.saturation,lightness:this.lightness,alpha:this.alpha,...t}):"alpha"in t?this.withAlpha(t.alpha):this}}class sRGBColor{constructor({red:t,green:e,blue:a,hue:r,saturation:s,lightness:n,alpha:i}){Object.defineProperties(this,{red:{value:t},green:{value:e},blue:{value:a},hue:{value:r},saturation:{value:s},lightness:{value:n},alpha:{value:i},whitePoint:{value:l},profile:{value:"srgb"}})}static rgb({red:t,green:e,blue:a,alpha:r}){const s=k(t),n=k(e),i=k(a);if(!C(s,n,i))return;const h=B(o,s),l=B(o,n),u=B(o,i),c=Math.min(h,l,u),f=Math.max(h,l,u),g=f-c;let y;y=0===g?0:f===h?(l-u)/g:f===l?(u-h)/g+2:(h-l)/g+4;const b=(f+c)/2,p=Y(g,b);return new sRGBColor({red:s,green:n,blue:i,hue:x(60*y),saturation:p,lightness:L(b),alpha:v(r)})}static rgbArray([t,e,a,r]){return sRGBColor.rgb({red:t,green:e,blue:a,alpha:r})}static lin({red:t,green:e,blue:a,alpha:r}){const s=[t,e,a].map(t=>t>.0031308?t**(1/2.4)*1.055-.055:12.92*t).map(t=>255*t).concat(r);return sRGBColor.rgbArray(s)}static linArray([t,e,a,r]){return sRGBColor.lin({red:t,green:e,blue:a,alpha:r})}static hsl({hue:t,saturation:e,lightness:a,alpha:r}){const s=x(t),n=L(e),i=L(a);if(!C(s,n,i))return;const h=(1-Math.abs(2*i-1))*n,l=h*(1-Math.abs(s/60%2-1)),o=i-h/2;let u=0,c=0,f=0;return s>=0&&s<60?(u=h,c=l,f=0):s>=60&&s<120?(u=l,c=h,f=0):s>=120&&s<180?(u=0,c=h,f=l):s>=180&&s<240?(u=0,c=l,f=h):s>=240&&s<300?(u=l,c=0,f=h):s>=300&&s<360&&(u=h,c=0,f=l),new sRGBColor({red:k(255*(u+o)),green:k(255*(c+o)),blue:k(255*(f+o)),hue:s,saturation:n,lightness:i,alpha:v(r)})}static hslArray([t,e,a,r]){return sRGBColor.hsl({hue:t,saturation:e,lightness:a,alpha:r})}static hwb({hue:t,whiteness:e,blackness:a,alpha:r}){const s=L(e),n=L(a),i=(1-s+n)/2,h=Y(1-s-n,i);return sRGBColor.hsl({hue:x(t),saturation:h,lightness:i,alpha:r})}static hwbArray([t,e,a,r]){return sRGBColor.hwb({hue:t,whiteness:e,blackness:a,alpha:r})}get luminance(){return this.toXyz().y}get mode(){return+(this.luminance<.18)}get hueGroup(){return w(Math.floor((this.hue+15)%360/30)+1,11)}get hueGroupOffset(){return w(this.hue%30+15,30)}get hrad(){return $(this.hue*(Math.PI/180),7)}get hgrad(){return $(this.hue/.9,7)}get hturn(){return $(this.hue/360,7)}get name(){const t=E(this.toHexString().substring(0,7));return 1!==this.alpha&&t?t+"*":t}toLin(){return[this.red,this.green,this.blue].map(t=>{const e=t/255;return $(e<.04045?e/12.92:((e+.055)/1.055)**2.4,7)})}toHwb(){const t=[this.red,this.green,this.blue].map(t=>t/255);return[this.hue,$(1-Math.max(...t),7),$(Math.min(...t),7),this.alpha]}toXyz(t=this.whitePoint){const[a,r,s]=M(this.toLin(),e);return new XYZColor({x:a,y:r,z:s,alpha:this.alpha,whitePoint:this.whitePoint}).adapt(t)}toLab(){return this.toXyz(h).toLab()}toP3(){return this.toXyz().toP3()}toP3Equiv(){return new DisplayP3Color(this)}toRgb(){return this}toGrayscale(){if(0===this.saturation)return this;const t=this.luminance>.0393?255*(this.luminance**(1/2.4)*1.055-.055):3294.6*this.luminance;return sRGBColor.rgb({red:t,green:t,blue:t,alpha:this.alpha})}toRgbString(t="absolute"){const e="relative"===t?$(100*B(o,this.red),1)+"%":this.red,a="relative"===t?$(100*B(o,this.green),1)+"%":this.green,r="relative"===t?$(100*B(o,this.blue),1)+"%":this.blue,s="relative"===t?$(100*this.alpha,0)+"%":this.alpha;return this.alpha<1?`rgb(${e} ${a} ${r} / ${s})`:`rgb(${e} ${a} ${r})`}toColorString(){const t=$(B(o,this.red),3),e=$(B(o,this.green),3),a=$(B(o,this.blue),3);return this.alpha<1?`color(${this.profile} ${t} ${e} ${a} / ${this.alpha})`:`color(${this.profile} ${t} ${e} ${a})`}toHexString(){return`#${N(this.red)}${N(this.green)}${N(this.blue)}${this.alpha<1?N(Math.round(255*this.alpha)):""}`}toHslString(t=1){return this.alpha<1?`hsl(${$(this.hue,t)}deg ${$(100*this.saturation,t)}% ${$(100*this.lightness,t)}% / ${this.alpha})`:`hsl(${$(this.hue,t)}deg ${$(100*this.saturation,t)}% ${$(100*this.lightness,t)}%)`}toHwbString(t=1){const[e,a,r]=this.toHwb();return this.alpha<1?`hwb(${$(e,t)}deg ${$(100*a,t)}% ${$(100*r,t)}% / ${this.alpha})`:`hwb(${$(e,t)}deg ${$(100*a,t)}% ${$(100*r,t)}%)`}withAlpha(t=1){return this.alpha===t?this:new sRGBColor({red:this.red,green:this.green,blue:this.blue,hue:this.hue,saturation:this.saturation,lightness:this.lightness,alpha:v(t)})}invert(){return sRGBColor.rgb({red:255-this.red,green:255-this.green,blue:255-this.blue,alpha:this.alpha})}copyWith(t){return"red"in t||"blue"in t||"green"in t?sRGBColor.rgb({red:this.red,green:this.green,blue:this.blue,alpha:this.alpha,...t}):"hue"in t||"saturation"in t||"lightness"in t?sRGBColor.hsl({hue:this.hue,saturation:this.saturation,lightness:this.lightness,alpha:this.alpha,...t}):"alpha"in t?this.withAlpha(t.alpha):this}}function I(t,e="srgb"){if("object"==typeof t){if(C(t.red,t.green,t.blue))return("srgb"===e?sRGBColor:DisplayP3Color).rgb(t);if(C(t.hue,t.saturation,t.lightness))return("srgb"===e?sRGBColor:DisplayP3Color).hsl(t);if(C(t.hue,t.whiteness,t.blackness))return("srgb"===e?sRGBColor:DisplayP3Color).hwb(t);if(C(t.x,t.y,t.z))return new XYZColor(t);if(C(t.lightness,t.a,t.b))return LabColor.lab(t);if(C(t.lightness,t.chroma,t.hue))return LabColor.lch(t)}if("string"==typeof t){if((t=t.trim().toLowerCase()).startsWith("p3:"))return I(t.substring(3),"p3");if(H.has(t)){const[a,r,s,n,i,h,l]=function(t){if("string"==typeof t)return H.get(t.toLowerCase())}(t);return new("srgb"===e?sRGBColor:DisplayP3Color)({red:a,green:r,blue:s,hue:n,saturation:i,lightness:h,alpha:l})}if(t.startsWith("#")){const a=R(t.length>5?y:b,t).map(Z);return a[3]=$(a[3]/255,7),("srgb"===e?sRGBColor:DisplayP3Color).rgbArray(a)}if(t.startsWith("rgb"))return("srgb"===e?sRGBColor:DisplayP3Color).rgbArray(t.includes(",")?X("rgb",t):G("rgb",t));if(t.startsWith("hsl"))return("srgb"===e?sRGBColor:DisplayP3Color).hslArray(t.includes(",")?X("hsl",t):G("hsl",t));if(t.startsWith("hwb"))return("srgb"===e?sRGBColor:DisplayP3Color).hwbArray(G("hwb",t));if(t.startsWith("lab"))return LabColor.labArray(G("lab",t));if(t.startsWith("lch"))return LabColor.lchArray(G("lch",t))}}const j={rgb:[sRGBColor,["red","green","blue","alpha"]],hsl:[sRGBColor,["hue","saturation","lightness","alpha"]],lab:[LabColor,["lightness","a","b","alpha"]],lch:[LabColor,["lightness","chroma","hue","alpha"]],xyz:[XYZColor,["x","y","z","alpha"]],"p3:rgb":[DisplayP3Color,["red","green","blue","alpha"]],"p3:hsl":[DisplayP3Color,["hue","saturation","lightness","alpha"]]};function O(t){return t instanceof sRGBColor||t instanceof DisplayP3Color||t instanceof LabColor||t instanceof XYZColor}function F(t,e){if(e)switch(t){case"rgb":case"hsl":return O(e)?e.toRgb():F(t,I(e));case"lab":case"lch":return O(e)?e.toLab():F(t,I(e));case"xyz":return O(e)?e.toXyz():F(t,I(e));case"p3:rgb":case"p3:hsl":return O(e)?e.toP3():F(t,I(e));default:return}}function K(t="rgb",e){if("string"!=typeof t)return;if(!e)return e=>K(t,e);const{start:a,end:r,alpha:s=1,hueDirection:n=0}=e,i=F(t=t.trim().toLowerCase(),a),h=F(t,r);if(!i&&!h)return;if(!i)return h;if(!h)return i;const l=h.alpha*L(s),[o,u]=j[t];return t.startsWith("p3:")&&(t=t.substring(3)),o[t+"Array"](u.map(t=>"hue"===t?i[t]+l*W(i[t],h[t],n):"alpha"===t?i[t]*(1+l):i[t]+l*(h[t]-i[t])))}function J(t="#fff",e,a=2){const r=O(t)?t:I(t);if(!r)return;if(1!==r.alpha)throw SyntaxError("Base color cannot be semitransparent.");if(arguments.length<2){const t=(t,e=2)=>J(r,t,e);return t.find=t=>J.find(r,t),t.min=t=>J.min(r,t),t.max=t=>J.max(r,t),t.validate=t=>J.validate(r,t),t}let s=O(e)?e:I(e);if(s.alpha<1){let t;if(s instanceof sRGBColor)t="rgb";else if(s instanceof DisplayP3Color)t="p3:rgb";else if(s instanceof LabColor)t="lab";else{if(!(s instanceof XYZColor))return;t="xyz"}s=K(t,{start:r,end:s})}const n=Math.min(s.luminance,r.luminance),i=Math.max(s.luminance,r.luminance);return $((i+.05)/(n+.05),a)}J.closest=(t,e,a)=>{const r=O(t)?t:I(t);if(!r)return;let s,n=22;return a.forEach(t=>{const a=Math.abs(J(r,t)-e)||100;a<n&&(s=t,n=a)}),s},J.min=(t,e)=>{const a=O(t)?t:I(t);if(!a)return;let r,s=22;return e.forEach(t=>{const e=I(t);if(!t)return;const n=J(a,e);n<s&&(r=e,s=n)}),r},J.max=(t,e)=>{const a=O(t)?t:I(t);if(!a)return;let r,s=0;return e.forEach(t=>{const e=I(t);if(!t)return;const n=J(a,e);n>s&&(r=e,s=n)}),r},J.validate=(t,e)=>{const a=Math.floor(100*J(t,e,7))/100;return{"wcag-aa-normal-text":a>=4.5,"wcag-aa-large-text":a>=3,"wcag-aa-ui":a>=3,"wcag-aaa-normal-text":a>=7,"wcag-aaa-large-text":a>=4.5}},J.find=(t,{targetContrast:e=7,hue:a,saturation:r=1,chroma:s=100,model:n="hsl"})=>{"xyz"!==(n=n.trim().toLowerCase())&&"rgb"!==n||(n="hsl"),"p3:rgb"===n&&(n="p3:hsl"),"lab"===n&&(n="lch");const i=F(n,t);if(!i)return;const h=[],l=i.luminance,o=e*(l+.05)-.05,u=(l+.05)/e-.05;if(o>=0&&o<=1&&h.push(o),u>=0&&u<=1&&h.push(u),!h.length)return h;const[c]=j[n];return n.startsWith("p3:")&&(n=n.substring(3)),h.map(t=>{let e,i=0,h=1,o=0;for(;o<=7;){e=c[n]({hue:a,saturation:r,chroma:s,lightness:(h+i)/2});const u=e.luminance;if(S(u,t,.0025)||7===o){let r;return r=u>t&&t>l||u<t&&t<l?0:u>t&&t<l?-1:1,r?e.copyWith({lightness:e.lightness+.004*r,hue:a}):e}u>t?h=(h+i)/2:i=(h+i)/2,o+=1}return e})};const Q={rgb:[sRGBColor.rgb,{red:o,green:o,blue:o,alpha:1},[0,0,0,4]],"p3:rgb":[DisplayP3Color.rgb,{red:o,green:o,blue:o,alpha:1},[0,0,0,4]],hsl:[sRGBColor.hsl,{hue:u,saturation:c,lightness:c,alpha:1},[0,3,3,4]],"p3:hsl":[DisplayP3Color.hsl,{hue:u,saturation:c,lightness:c,alpha:1},[0,3,3,4]],hwb:[sRGBColor.hwb,{hue:u,whiteness:c,blackness:c,alpha:1},[0,3,3,4]],"p3:hwb":[DisplayP3Color.hwb,{hue:u,whiteness:c,blackness:c,alpha:1},[0,3,3,4]],lab:[LabColor.lab,{lightness:c,a:f,b:f,alpha:1},[5,3,3,4]],lch:[LabColor.lch,{lightness:c,chroma:g,hue:u,alpha:1},[5,3,3,4]],xyz:[XYZColor.xyz,{x:c,y:c,z:c,alpha:1},[6,6,6,4]]};return t.DisplayP3Color=DisplayP3Color,t.LabColor=LabColor,t.XYZColor=XYZColor,t.color=I,t.contrast=J,t.lerp=function t(e="rgb",a){if("string"!=typeof e)return;if(!a)return a=>t(e,a);const{start:r,end:s,stops:n=1,hueDirection:i=0,includeLast:h=!0}=a,l=F(e=e.trim().toLowerCase(),r),o=F(e,s);if(!l||!o)return;const u=[l];let c=parseInt(n,10);if(!c||c<0)return h?u.concat(o):u;c>255&&(c=255);const[f,g]=j[e];e.startsWith("p3:")&&(e=e.substring(3));const y=g.map(t=>"hue"===t?W(l[t],o[t],i)/(c+1):(o[t]-l[t])/(c+1));for(;c>0;)u.push(f[e+"Array"](g.map((t,e)=>l[t]+y[e]*u.length))),c-=1;return h?u.concat(o):u},t.mix=K,t.random=function(t="rgb",e={}){if("string"!=typeof t)return;t=t.trim().toLowerCase();const[a,r,s]=Q[t]||[];if(!a)return;const n={...r};return Object.keys(n).forEach((t,a)=>{C(e[t])&&(n[t]=e[t]),Array.isArray(n[t])&&(n[t]=q(n[t],s[a]))}),a(n)},t.randomContrast=function(t="white",e={hue:u,saturation:c,chroma:g,targetContrast:[0,21],model:"hsl"}){let{hue:a=u,saturation:r=c,chroma:s=g,targetContrast:n=[0,21],model:i="hsl"}=e;if("string"!=typeof i&&(i="hsl"),i=i.trim().toLowerCase(),Array.isArray(a)){a=q(a,"lab"===i||"lch"===i?3:0)}return Array.isArray(r)&&(r=q(r,3)),Array.isArray(s)&&(s=q(s,3)),Array.isArray(n)&&(n=q(n,2)),J.find(t,{targetContrast:n,hue:a,saturation:r,chroma:s,model:i})},t.sRGBColor=sRGBColor,t}({});
